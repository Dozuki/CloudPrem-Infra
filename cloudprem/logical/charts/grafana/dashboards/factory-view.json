{
   "annotations": {
      "list": [
         {
            "builtIn": 1,
            "datasource": "-- Grafana --",
            "enable": true,
            "hide": true,
            "iconColor": "rgba(0, 211, 255, 1)",
            "name": "Annotations & Alerts",
            "type": "dashboard"
         }
      ]
   },
   "editable": true,
   "gnetId": null,
   "graphTooltip": 0,
   "id": null,
   "iteration": 1547773977278,
   "links": [],
   "panels": [
      {
         "content": "# Factory View\nThe heartbeat of your processes at a glance",
         "gridPos": {
            "h": 3,
            "w": 24,
            "x": 0,
            "y": 0
         },
         "id": 5,
         "links": [],
         "mode": "markdown",
         "title": "",
         "transparent": true,
         "type": "text"
      },
      {
         "collapsed": false,
         "gridPos": {
            "h": 1,
            "w": 24,
            "x": 0,
            "y": 3
         },
         "id": 2,
         "panels": [],
         "title": "",
         "type": "row"
      },
      {
         "content": "<h2>Tracked Processes</h2>\nProcesses with cycle time goals\n<hr>",
         "gridPos": {
            "h": 3,
            "w": 24,
            "x": 0,
            "y": 4
         },
         "id": 45,
         "links": [],
         "mode": "html",
         "title": "",
         "transparent": true,
         "type": "text"
      },
      {
         "cacheTimeout": null,
         "colorBackground": false,
         "colorValue": false,
         "colors": [
            "#299c46",
            "rgba(237, 129, 40, 0.89)",
            "#d44a3a"
         ],
         "datasource": "$GUIDE_DB",
         "format": "none",
         "gauge": {
            "maxValue": 100,
            "minValue": 0,
            "show": false,
            "thresholdLabels": false,
            "thresholdMarkers": true
         },
         "gridPos": {
            "h": 3,
            "w": 3,
            "x": 0,
            "y": 7
         },
         "id": 11,
         "interval": null,
         "links": [],
         "mappingType": 1,
         "mappingTypes": [
            {
               "name": "value to text",
               "value": 1
            },
            {
               "name": "range to text",
               "value": 2
            }
         ],
         "maxDataPoints": 100,
         "nullPointMode": "connected",
         "nullText": null,
         "postfix": "",
         "postfixFontSize": "50%",
         "prefix": "",
         "prefixFontSize": "50%",
         "rangeMaps": [
            {
               "from": "null",
               "text": "N/A",
               "to": "null"
            }
         ],
         "sparkline": {
            "fillColor": "rgba(31, 118, 189, 0.18)",
            "full": false,
            "lineColor": "rgb(31, 120, 193)",
            "show": false
         },
         "tableColumn": "metric",
         "targets": [
            {
               "alias": "",
               "format": "table",
               "group": [],
               "metricColumn": "none",
               "rawQuery": true,
               "rawSql": "select wl.entryid, wl.guideid, wl.starttime\n, endtime, (wl.endtime - wl.starttime)/60.00 as duration\n, (x.time_required_max -(y.endingtime - wl.starttime))/60.00 as past_due\n, count(distinct wl.entryid) as metric\nfrom work_log wl\n \njoin (select gc.guideid, gm.time_required_max, gm.time_required_min\nFROM guide_current gc\nJOIN guide_revisions gr USING (guide_revisionid)\nJOIN guide_meta gm ON (gr.gtr_revisionid = gm.revisionid)\nwhere gc.guideid in (select distinct guideid from work_log \n\t\t\t\t\t where from_unixtime(starttime)>= $__timeFrom()\n\t\t\t\t\t AND \n\t\t\t\t\t CASE \n    \t\t\t\t\tWHEN endtime is NOT NULL \n\t\t\t\t\t \tTHEN from_unixtime(endtime) <= $__timeTo()\n    \t\t\t\t\tELSE 1 != 1\n\t\t\t\t\t END)) x\nusing (guideid)\n \nJOIN (select entryid,\nCASE \n    WHEN endtime is NOT NULL \n\tthen endtime\n    ELSE 1 != 1\nEND as endingtime\nfrom work_log\nwhere guideid in (select distinct guideid \n\t\t\t\t  from work_log \n\t\t\t\t  where from_unixtime(starttime)>= $__timeFrom()\n\t\t\t\t  and from_unixtime(endtime) <= $__timeTo())\nand from_unixtime(starttime)>= $__timeFrom()\nand from_unixtime(endtime) <= $__timeTo()\n\t ) y\nusing (entryid)\n\n\n\n\nwhere from_unixtime(wl.starttime) >= $__timeFrom()\nand from_unixtime(wl.endtime) <= $__timeTo()\nand wl.cancelled != 1\nand (x.time_required_max is not null or x.time_required_max != 0)\nand (x.time_required_min is not null or x.time_required_min != 0)\n",
               "refId": "A",
               "select": [
                  [
                     {
                        "params": [
                           "value"
                        ],
                        "type": "column"
                     }
                  ]
               ],
               "timeColumn": "time",
               "where": [
                  {
                     "name": "$__timeFilter",
                     "params": [],
                     "type": "macro"
                  }
               ]
            }
         ],
         "thresholds": "",
         "title": "Completed",
         "transparent": true,
         "type": "singlestat",
         "valueFontSize": "80%",
         "valueMaps": [
            {
               "op": "=",
               "text": "N/A",
               "value": "null"
            }
         ],
         "valueName": "avg"
      },
      {
         "cacheTimeout": null,
         "colorBackground": false,
         "colorValue": false,
         "colors": [
            "#299c46",
            "rgba(237, 129, 40, 0.89)",
            "#d44a3a"
         ],
         "datasource": "$GUIDE_DB",
         "format": "none",
         "gauge": {
            "maxValue": 100,
            "minValue": 0,
            "show": false,
            "thresholdLabels": false,
            "thresholdMarkers": true
         },
         "gridPos": {
            "h": 3,
            "w": 3,
            "x": 3,
            "y": 7
         },
         "id": 12,
         "interval": null,
         "links": [],
         "mappingType": 1,
         "mappingTypes": [
            {
               "name": "value to text",
               "value": 1
            },
            {
               "name": "range to text",
               "value": 2
            }
         ],
         "maxDataPoints": 100,
         "nullPointMode": "connected",
         "nullText": null,
         "postfix": "",
         "postfixFontSize": "50%",
         "prefix": "",
         "prefixFontSize": "50%",
         "rangeMaps": [
            {
               "from": "null",
               "text": "N/A",
               "to": "null"
            }
         ],
         "sparkline": {
            "fillColor": "rgba(31, 118, 189, 0.18)",
            "full": false,
            "lineColor": "rgb(31, 120, 193)",
            "show": false
         },
         "tableColumn": "metric",
         "targets": [
            {
               "alias": "",
               "format": "table",
               "group": [],
               "metricColumn": "none",
               "rawQuery": true,
               "rawSql": "select wl.entryid, wl.guideid, wl.starttime, endtime, \n(wl.endtime - wl.starttime)/60.00 as duration, \n(x.time_required_max -(y.endingtime - wl.starttime))/60.00 as past_due, \ncount(distinct wl.entryid) as metric\nfrom work_log wl\n \njoin (select gc.guideid, gm.time_required_max, gm.time_required_min\nFROM guide_current gc\nJOIN guide_revisions gr USING (guide_revisionid)\nJOIN guide_meta gm ON (gr.gtr_revisionid = gm.revisionid)\nwhere gc.guideid in (select distinct guideid from work_log \n\t\t\t\t\t where from_unixtime(starttime)>= $__timeFrom()\n\t\t\t\t\t AND \n\t\t\t\t\t endtime is NULL)) x\nusing (guideid)\n \nJOIN (select entryid,\nCASE \n    WHEN endtime is NULL \n\tthen endtime\n    ELSE 1 != 1\nEND as endingtime\nfrom work_log\nwhere guideid in (select distinct guideid \n\t\t\t\t  from work_log \n\t\t\t\t  where from_unixtime(starttime)>= $__timeFrom()\n\t\t\t\t  and endtime is NULL)\nand from_unixtime(starttime)>= $__timeFrom()\nand endtime is NULL\n\t ) y\nusing (entryid)\n\nwhere from_unixtime(wl.starttime) >= $__timeFrom()\nand wl.endtime is null\nand wl.cancelled != 1\nand (x.time_required_max is not null or x.time_required_max != 0)\nand (x.time_required_min is not null or x.time_required_min != 0)",
               "refId": "A",
               "select": [
                  [
                     {
                        "params": [
                           "value"
                        ],
                        "type": "column"
                     }
                  ]
               ],
               "timeColumn": "time",
               "where": [
                  {
                     "name": "$__timeFilter",
                     "params": [],
                     "type": "macro"
                  }
               ]
            }
         ],
         "thresholds": "",
         "title": "In Progress",
         "transparent": true,
         "type": "singlestat",
         "valueFontSize": "80%",
         "valueMaps": [
            {
               "op": "=",
               "text": "N/A",
               "value": "null"
            }
         ],
         "valueName": "avg"
      },
      {
         "cacheTimeout": null,
         "colorBackground": false,
         "colorValue": true,
         "colors": [
            "#299c46",
            "rgba(237, 129, 40, 0.89)",
            "#d44a3a"
         ],
         "datasource": "$GUIDE_DB",
         "decimals": 0,
         "format": "none",
         "gauge": {
            "maxValue": 100,
            "minValue": 0,
            "show": false,
            "thresholdLabels": false,
            "thresholdMarkers": true
         },
         "gridPos": {
            "h": 3,
            "w": 3,
            "x": 6,
            "y": 7
         },
         "id": 13,
         "interval": null,
         "links": [],
         "mappingType": 1,
         "mappingTypes": [
            {
               "name": "value to text",
               "value": 1
            },
            {
               "name": "range to text",
               "value": 2
            }
         ],
         "maxDataPoints": 100,
         "nullPointMode": "connected",
         "nullText": null,
         "postfix": "",
         "postfixFontSize": "50%",
         "prefix": "",
         "prefixFontSize": "50%",
         "rangeMaps": [
            {
               "from": "null",
               "text": "N/A",
               "to": "null"
            }
         ],
         "sparkline": {
            "fillColor": "rgba(31, 118, 189, 0.18)",
            "full": false,
            "lineColor": "rgb(31, 120, 193)",
            "show": false
         },
         "tableColumn": "metric",
         "targets": [
            {
               "alias": "",
               "format": "table",
               "group": [],
               "metricColumn": "none",
               "rawQuery": true,
               "rawSql": "select wl.entryid, wl.guideid, from_unixtime(wl.starttime), from_unixtime(endtime), \n(wl.endtime - wl.starttime)/60.00 as duration, \n(x.time_required_max -(y.endingtime - wl.starttime))/60.00 as past_due,\ncount(distinct wl.entryid) as metric\n\nfrom work_log wl\n \njoin (select gc.guideid, gm.time_required_max, gm.time_required_min\nFROM guide_current gc\nJOIN guide_revisions gr USING (guide_revisionid)\nJOIN guide_meta gm ON (gr.gtr_revisionid = gm.revisionid)\nwhere gc.guideid in (select distinct guideid from work_log \n\t\t\t\t\t where date(from_unixtime(starttime))>= $__timeFrom()\n\t\t\t\t\t AND \n\t\t\t\t\t CASE \n    \t\t\t\t\tWHEN endtime is NOT NULL \n\t\t\t\t\t \tTHEN date(from_unixtime(endtime)) <= $__timeTo()\n    \t\t\t\t\tELSE 1 != 1\n\t\t\t\t\t END)) x\nusing (guideid)\n \nJOIN (select entryid,\nCASE \n    WHEN endtime is NOT NULL \n\tthen endtime\n    ELSE 1 != 1\nEND as endingtime\nfrom work_log\nwhere guideid in (select distinct guideid \n\t\t\t\t  from work_log \n\t\t\t\t  where date(from_unixtime(starttime))>= $__timeFrom()\n\t\t\t\t  and date(from_unixtime(endtime)) <= $__timeTo())\nand date(from_unixtime(starttime))>= $__timeFrom()\nand date(from_unixtime(endtime)) <= $__timeTo()\n\t ) y\nusing (entryid)\nwhere date(from_unixtime(wl.starttime))>= $__timeFrom()\nand wl.cancelled != 1\nand date(from_unixtime(wl.endtime)) <= $__timeTo()\nand (x.time_required_max is not null or x.time_required_max != 0)\nand (x.time_required_min is not null or x.time_required_min != 0)\n\nand (x.time_required_max -(y.endingtime - wl.starttime))/60.00 < 0\n\norder by entryid",
               "refId": "A",
               "select": [
                  [
                     {
                        "params": [
                           "value"
                        ],
                        "type": "column"
                     }
                  ]
               ],
               "timeColumn": "time",
               "where": [
                  {
                     "name": "$__timeFilter",
                     "params": [],
                     "type": "macro"
                  }
               ]
            }
         ],
         "thresholds": "0,1",
         "title": "Missed Goal",
         "transparent": true,
         "type": "singlestat",
         "valueFontSize": "80%",
         "valueMaps": [
            {
               "op": "=",
               "text": "N/A",
               "value": "null"
            }
         ],
         "valueName": "avg"
      },
      {
         "cacheTimeout": null,
         "colorBackground": false,
         "colorValue": true,
         "colors": [
            "#d44a3a",
            "rgba(237, 129, 40, 0.89)",
            "#299c46"
         ],
         "datasource": "$GUIDE_DB",
         "format": "none",
         "gauge": {
            "maxValue": 100,
            "minValue": 0,
            "show": false,
            "thresholdLabels": false,
            "thresholdMarkers": true
         },
         "gridPos": {
            "h": 3,
            "w": 3,
            "x": 9,
            "y": 7
         },
         "id": 14,
         "interval": null,
         "links": [],
         "mappingType": 1,
         "mappingTypes": [
            {
               "name": "value to text",
               "value": 1
            },
            {
               "name": "range to text",
               "value": 2
            }
         ],
         "maxDataPoints": 100,
         "nullPointMode": "connected",
         "nullText": null,
         "postfix": "",
         "postfixFontSize": "50%",
         "prefix": "",
         "prefixFontSize": "50%",
         "rangeMaps": [
            {
               "from": "null",
               "text": "N/A",
               "to": "null"
            }
         ],
         "sparkline": {
            "fillColor": "rgba(31, 118, 189, 0.18)",
            "full": false,
            "lineColor": "rgb(31, 120, 193)",
            "show": false
         },
         "tableColumn": "metric",
         "targets": [
            {
               "alias": "",
               "format": "table",
               "group": [],
               "metricColumn": "none",
               "rawQuery": true,
               "rawSql": "select wl.entryid, wl.guideid, from_unixtime(wl.starttime), from_unixtime(endtime), \n(wl.endtime - wl.starttime)/60.00 as duration, \n(x.time_required_max -(y.endingtime - wl.starttime))/60.00 as past_due,\ncount(distinct wl.entryid) as metric\n\nfrom work_log wl\n \njoin (select gc.guideid, gm.time_required_max, gm.time_required_min\nFROM guide_current gc\nJOIN guide_revisions gr USING (guide_revisionid)\nJOIN guide_meta gm ON (gr.gtr_revisionid = gm.revisionid)\nwhere gc.guideid in (select distinct guideid from work_log \n\t\t\t\t\t where date(from_unixtime(starttime))>= $__timeFrom()\n\t\t\t\t\t AND \n\t\t\t\t\t CASE \n    \t\t\t\t\tWHEN endtime is NOT NULL \n\t\t\t\t\t \tTHEN date(from_unixtime(endtime)) <= $__timeTo()\n    \t\t\t\t\tELSE 1 != 1\n\t\t\t\t\t END)) x\nusing (guideid)\n \nJOIN (select entryid,\nCASE \n    WHEN endtime is NOT NULL \n\tthen endtime\n    ELSE 1 != 1\nEND as endingtime\nfrom work_log\nwhere guideid in (select distinct guideid \n\t\t\t\t  from work_log \n\t\t\t\t  where date(from_unixtime(starttime))>= $__timeFrom()\n\t\t\t\t  and date(from_unixtime(endtime)) <= $__timeTo())\nand date(from_unixtime(starttime))>= $__timeFrom()\nand date(from_unixtime(endtime)) <= $__timeTo()\n\t ) y\nusing (entryid)\nwhere date(from_unixtime(wl.starttime))>= $__timeFrom()\nand wl.cancelled != 1\nand date(from_unixtime(wl.endtime)) <= $__timeTo()\nand (x.time_required_max is not null or x.time_required_max != 0)\nand (x.time_required_min is not null or x.time_required_min != 0)\n\nand (x.time_required_max -(y.endingtime - wl.starttime))/60.00 > 0\n\norder by entryid",
               "refId": "A",
               "select": [
                  [
                     {
                        "params": [
                           "value"
                        ],
                        "type": "column"
                     }
                  ]
               ],
               "timeColumn": "time",
               "where": [
                  {
                     "name": "$__timeFilter",
                     "params": [],
                     "type": "macro"
                  }
               ]
            }
         ],
         "thresholds": "0,1",
         "title": "Hit Goal",
         "transparent": true,
         "type": "singlestat",
         "valueFontSize": "80%",
         "valueMaps": [
            {
               "op": "=",
               "text": "N/A",
               "value": "null"
            }
         ],
         "valueName": "avg"
      },
      {
         "cacheTimeout": null,
         "colorBackground": false,
         "colorValue": false,
         "colors": [
            "#299c46",
            "rgba(237, 129, 40, 0.89)",
            "#d44a3a"
         ],
         "datasource": "$GUIDE_DB",
         "decimals": 2,
         "format": "percentunit",
         "gauge": {
            "maxValue": 100,
            "minValue": 0,
            "show": false,
            "thresholdLabels": false,
            "thresholdMarkers": true
         },
         "gridPos": {
            "h": 3,
            "w": 3,
            "x": 12,
            "y": 7
         },
         "id": 15,
         "interval": null,
         "links": [],
         "mappingType": 1,
         "mappingTypes": [
            {
               "name": "value to text",
               "value": 1
            },
            {
               "name": "range to text",
               "value": 2
            }
         ],
         "maxDataPoints": 100,
         "nullPointMode": "connected",
         "nullText": null,
         "postfix": "",
         "postfixFontSize": "50%",
         "prefix": "",
         "prefixFontSize": "50%",
         "rangeMaps": [
            {
               "from": "null",
               "text": "N/A",
               "to": "null"
            }
         ],
         "sparkline": {
            "fillColor": "rgba(31, 118, 189, 0.18)",
            "full": false,
            "lineColor": "rgb(31, 120, 193)",
            "show": false
         },
         "tableColumn": "metric",
         "targets": [
            {
               "alias": "",
               "format": "table",
               "group": [],
               "hide": false,
               "metricColumn": "none",
               "rawQuery": true,
               "rawSql": "select a.hits/b.hitsandmisses as metric \n\nfrom (select \nwl.entryid, wl.guideid, from_unixtime(wl.starttime), from_unixtime(endtime), \n(wl.endtime - wl.starttime)/60.00 as duration, \n(x.time_required_max -(y.endingtime - wl.starttime))/60.00 as past_due,\ncount(distinct wl.entryid) as hits\n\nfrom work_log wl\n \njoin (select gc.guideid, gm.time_required_max, gm.time_required_min\nFROM guide_current gc\nJOIN guide_revisions gr USING (guide_revisionid)\nJOIN guide_meta gm ON (gr.gtr_revisionid = gm.revisionid)\nwhere gc.guideid in (select distinct guideid from work_log \n\t\t\t\t\t where date(from_unixtime(starttime))>= $__timeFrom()\n\t\t\t\t\t AND \n\t\t\t\t\t CASE \n    \t\t\t\t\tWHEN endtime is NOT NULL \n\t\t\t\t\t \tTHEN date(from_unixtime(endtime)) <= $__timeTo()\n    \t\t\t\t\tELSE 1 != 1\n\t\t\t\t\t END)) x\nusing (guideid)\n \nJOIN (select entryid,\nCASE \n    WHEN endtime is NOT NULL \n\tthen endtime\n    ELSE 1 != 1\nEND as endingtime\nfrom work_log\nwhere guideid in (select distinct guideid \n\t\t\t\t  from work_log \n\t\t\t\t  where date(from_unixtime(starttime))>= $__timeFrom()\n\t\t\t\t  and date(from_unixtime(endtime)) <= $__timeTo())\nand date(from_unixtime(starttime))>= $__timeFrom()\nand date(from_unixtime(endtime)) <= $__timeTo()\n\t ) y\nusing (entryid)\nwhere date(from_unixtime(wl.starttime))>= $__timeFrom()\nand wl.cancelled != 1\nand date(from_unixtime(wl.endtime)) <= $__timeTo()\nand (x.time_required_max is not null or x.time_required_max != 0)\nand (x.time_required_min is not null or x.time_required_min != 0)\n\nand (x.time_required_max -(y.endingtime - wl.starttime))/60.00 > 0\n\norder by entryid) a\n\nleft join \n\n(select \nwl.entryid, wl.guideid, from_unixtime(wl.starttime), from_unixtime(endtime), \n(wl.endtime - wl.starttime)/60.00 as duration, \n(x.time_required_max -(y.endingtime - wl.starttime))/60.00 as past_due,\ncount(distinct wl.entryid) as hitsandmisses\n\nfrom work_log wl\n \njoin (select gc.guideid, gm.time_required_max, gm.time_required_min\nFROM guide_current gc\nJOIN guide_revisions gr USING (guide_revisionid)\nJOIN guide_meta gm ON (gr.gtr_revisionid = gm.revisionid)\nwhere gc.guideid in (select distinct guideid from work_log \n\t\t\t\t\t where date(from_unixtime(starttime))>= $__timeFrom()\n\t\t\t\t\t AND \n\t\t\t\t\t CASE \n    \t\t\t\t\tWHEN endtime is NOT NULL \n\t\t\t\t\t \tTHEN date(from_unixtime(endtime)) <= $__timeTo()\n    \t\t\t\t\tELSE 1 != 1\n\t\t\t\t\t END)) x\nusing (guideid)\n \nJOIN (select entryid,\nCASE \n    WHEN endtime is NOT NULL \n\tthen endtime\n    ELSE 1 != 1\nEND as endingtime\nfrom work_log\nwhere guideid in (select distinct guideid \n\t\t\t\t  from work_log \n\t\t\t\t  where date(from_unixtime(starttime))>= $__timeFrom()\n\t\t\t\t  and date(from_unixtime(endtime)) <= $__timeTo())\nand date(from_unixtime(starttime))>= $__timeFrom()\nand date(from_unixtime(endtime)) <= $__timeTo()\n\t ) y\nusing (entryid)\nwhere date(from_unixtime(wl.starttime))>= $__timeFrom()\nand wl.cancelled != 1\nand date(from_unixtime(wl.endtime)) <= $__timeTo()\nand (x.time_required_max is not null or x.time_required_max != 0)\nand (x.time_required_min is not null or x.time_required_min != 0)\n\n\norder by entryid) b on a.entryid=b.entryid",
               "refId": "A",
               "select": [
                  [
                     {
                        "params": [
                           "value"
                        ],
                        "type": "column"
                     }
                  ]
               ],
               "timeColumn": "time",
               "where": [
                  {
                     "name": "$__timeFilter",
                     "params": [],
                     "type": "macro"
                  }
               ]
            }
         ],
         "thresholds": "",
         "title": "Goal Efficiency",
         "transparent": true,
         "type": "singlestat",
         "valueFontSize": "80%",
         "valueMaps": [
            {
               "op": "=",
               "text": "N/A",
               "value": "null"
            }
         ],
         "valueName": "avg"
      },
      {
         "cacheTimeout": null,
         "colorBackground": false,
         "colorValue": false,
         "colors": [
            "#299c46",
            "rgba(237, 129, 40, 0.89)",
            "#d44a3a"
         ],
         "datasource": "$GUIDE_DB",
         "format": "none",
         "gauge": {
            "maxValue": 100,
            "minValue": 0,
            "show": false,
            "thresholdLabels": false,
            "thresholdMarkers": true
         },
         "gridPos": {
            "h": 3,
            "w": 3,
            "x": 19,
            "y": 7
         },
         "id": 16,
         "interval": null,
         "links": [],
         "mappingType": 1,
         "mappingTypes": [
            {
               "name": "value to text",
               "value": 1
            },
            {
               "name": "range to text",
               "value": 2
            }
         ],
         "maxDataPoints": 100,
         "nullPointMode": "connected",
         "nullText": null,
         "postfix": "",
         "postfixFontSize": "50%",
         "prefix": "",
         "prefixFontSize": "50%",
         "rangeMaps": [
            {
               "from": "null",
               "text": "N/A",
               "to": "null"
            }
         ],
         "sparkline": {
            "fillColor": "rgba(31, 118, 189, 0.18)",
            "full": false,
            "lineColor": "rgb(31, 120, 193)",
            "show": false
         },
         "tableColumn": "metric",
         "targets": [
            {
               "alias": "",
               "format": "table",
               "group": [],
               "metricColumn": "none",
               "rawQuery": true,
               "rawSql": "select  wl.entryid, wl.guideid, from_unixtime(wl.starttime), from_unixtime(endtime), \r\n-- (wl.endtime - wl.starttime)/60.00 as duration, \r\n-- (x.time_required_max -(y.endingtime - wl.starttime))/60.00 as past_due, \r\ncount(distinct wl.entryid) as metric\r\nfrom work_log wl\r\n \r\nleft join (select gc.guideid, gm.time_required_max, gm.time_required_min\r\nFROM guide_current gc\r\nJOIN guide_revisions gr USING (guide_revisionid)\r\nJOIN guide_meta gm ON (gr.gtr_revisionid = gm.revisionid)\r\n) x\r\nusing (guideid)\r\n \r\n\r\nwhere date(from_unixtime(wl.starttime)) >= $__timeFrom()\r\nand date(from_unixtime(wl.endtime)) <= $__timeTo()\r\nand wl.cancelled = 1\r\nand (x.time_required_max is not null)\r\nand (x.time_required_max != 0)\r\nand (x.time_required_min is not null)\r\nand (x.time_required_min != 0)",
               "refId": "A",
               "select": [
                  [
                     {
                        "params": [
                           "value"
                        ],
                        "type": "column"
                     }
                  ]
               ],
               "timeColumn": "time",
               "where": [
                  {
                     "name": "$__timeFilter",
                     "params": [],
                     "type": "macro"
                  }
               ]
            }
         ],
         "thresholds": "",
         "title": "Cancelled",
         "transparent": true,
         "type": "singlestat",
         "valueFontSize": "80%",
         "valueMaps": [
            {
               "op": "=",
               "text": "N/A",
               "value": "null"
            }
         ],
         "valueName": "avg"
      },
      {
         "collapsed": false,
         "gridPos": {
            "h": 1,
            "w": 24,
            "x": 0,
            "y": 10
         },
         "id": 7,
         "panels": [],
         "title": "",
         "type": "row"
      },
      {
         "content": "<h2>Untracked Processes</h2>\nProcesses with no cycle time goals\n<hr>",
         "gridPos": {
            "h": 3,
            "w": 24,
            "x": 0,
            "y": 11
         },
         "id": 44,
         "links": [],
         "mode": "html",
         "title": "",
         "transparent": true,
         "type": "text"
      },
      {
         "cacheTimeout": null,
         "colorBackground": false,
         "colorValue": false,
         "colors": [
            "#299c46",
            "rgba(237, 129, 40, 0.89)",
            "#d44a3a"
         ],
         "datasource": "$GUIDE_DB",
         "format": "none",
         "gauge": {
            "maxValue": 100,
            "minValue": 0,
            "show": false,
            "thresholdLabels": false,
            "thresholdMarkers": true
         },
         "gridPos": {
            "h": 3,
            "w": 3,
            "x": 0,
            "y": 14
         },
         "id": 18,
         "interval": null,
         "links": [],
         "mappingType": 1,
         "mappingTypes": [
            {
               "name": "value to text",
               "value": 1
            },
            {
               "name": "range to text",
               "value": 2
            }
         ],
         "maxDataPoints": 100,
         "nullPointMode": "connected",
         "nullText": null,
         "postfix": "",
         "postfixFontSize": "50%",
         "prefix": "",
         "prefixFontSize": "50%",
         "rangeMaps": [
            {
               "from": "null",
               "text": "N/A",
               "to": "null"
            }
         ],
         "sparkline": {
            "fillColor": "rgba(31, 118, 189, 0.18)",
            "full": false,
            "lineColor": "rgb(31, 120, 193)",
            "show": false
         },
         "tableColumn": "metric",
         "targets": [
            {
               "alias": "",
               "format": "table",
               "group": [],
               "metricColumn": "none",
               "rawQuery": true,
               "rawSql": "select wl.entryid, wl.guideid, wl.starttime\n, endtime, (wl.endtime - wl.starttime)/60.00 as duration\n, (x.time_required_max -(y.endingtime - wl.starttime))/60.00 as past_due\n, count(distinct wl.entryid) as metric\nfrom work_log wl\n \njoin (select gc.guideid, gm.time_required_max, gm.time_required_min\nFROM guide_current gc\nJOIN guide_revisions gr USING (guide_revisionid)\nJOIN guide_meta gm ON (gr.gtr_revisionid = gm.revisionid)\nwhere gc.guideid in (select distinct guideid from work_log \n\t\t\t\t\t where from_unixtime(starttime)>= $__timeFrom()\n\t\t\t\t\t AND \n\t\t\t\t\t CASE \n    \t\t\t\t\tWHEN endtime is NOT NULL \n\t\t\t\t\t \tTHEN from_unixtime(endtime) <= $__timeTo()\n    \t\t\t\t\tELSE 1 != 1\n\t\t\t\t\t END)) x\nusing (guideid)\n \nJOIN (select entryid,\nCASE \n    WHEN endtime is NOT NULL \n\tthen endtime\n    ELSE 1 != 1\nEND as endingtime\nfrom work_log\nwhere guideid in (select distinct guideid \n\t\t\t\t  from work_log \n\t\t\t\t  where from_unixtime(starttime)>= $__timeFrom()\n\t\t\t\t  and from_unixtime(endtime) <= $__timeTo())\nand from_unixtime(starttime)>= $__timeFrom()\nand from_unixtime(endtime) <= $__timeTo()\n\t ) y\nusing (entryid)\n\n\n\n\nwhere from_unixtime(wl.starttime) >= $__timeFrom()\nand from_unixtime(wl.endtime) <= $__timeTo()\nand wl.cancelled != 1\nand (x.time_required_max is null or x.time_required_max = 0)\nand (x.time_required_min is null or x.time_required_min = 0)\n",
               "refId": "A",
               "select": [
                  [
                     {
                        "params": [
                           "value"
                        ],
                        "type": "column"
                     }
                  ]
               ],
               "timeColumn": "time",
               "where": [
                  {
                     "name": "$__timeFilter",
                     "params": [],
                     "type": "macro"
                  }
               ]
            }
         ],
         "thresholds": "",
         "title": "Completed",
         "transparent": true,
         "type": "singlestat",
         "valueFontSize": "80%",
         "valueMaps": [
            {
               "op": "=",
               "text": "N/A",
               "value": "null"
            }
         ],
         "valueName": "avg"
      },
      {
         "cacheTimeout": null,
         "colorBackground": false,
         "colorValue": false,
         "colors": [
            "#299c46",
            "rgba(237, 129, 40, 0.89)",
            "#d44a3a"
         ],
         "datasource": "$GUIDE_DB",
         "format": "none",
         "gauge": {
            "maxValue": 100,
            "minValue": 0,
            "show": false,
            "thresholdLabels": false,
            "thresholdMarkers": true
         },
         "gridPos": {
            "h": 3,
            "w": 3,
            "x": 3,
            "y": 14
         },
         "id": 20,
         "interval": null,
         "links": [],
         "mappingType": 1,
         "mappingTypes": [
            {
               "name": "value to text",
               "value": 1
            },
            {
               "name": "range to text",
               "value": 2
            }
         ],
         "maxDataPoints": 100,
         "nullPointMode": "connected",
         "nullText": null,
         "postfix": "",
         "postfixFontSize": "50%",
         "prefix": "",
         "prefixFontSize": "50%",
         "rangeMaps": [
            {
               "from": "null",
               "text": "N/A",
               "to": "null"
            }
         ],
         "sparkline": {
            "fillColor": "rgba(31, 118, 189, 0.18)",
            "full": false,
            "lineColor": "rgb(31, 120, 193)",
            "show": false
         },
         "tableColumn": "metric",
         "targets": [
            {
               "alias": "",
               "format": "table",
               "group": [],
               "metricColumn": "none",
               "rawQuery": true,
               "rawSql": "select wl.entryid, wl.guideid, wl.starttime, endtime, \n(wl.endtime - wl.starttime)/60.00 as duration, \n(x.time_required_max -(y.endingtime - wl.starttime))/60.00 as past_due, \ncount(distinct wl.entryid) as metric\nfrom work_log wl\n \njoin (select gc.guideid, gm.time_required_max, gm.time_required_min\nFROM guide_current gc\nJOIN guide_revisions gr USING (guide_revisionid)\nJOIN guide_meta gm ON (gr.gtr_revisionid = gm.revisionid)\nwhere gc.guideid in (select distinct guideid from work_log \n\t\t\t\t\t where from_unixtime(starttime)>= $__timeFrom()\n\t\t\t\t\t AND \n\t\t\t\t\t endtime is NULL)) x\nusing (guideid)\n \nJOIN (select entryid,\nCASE \n    WHEN endtime is NULL \n\tthen endtime\n    ELSE 1 != 1\nEND as endingtime\nfrom work_log\nwhere guideid in (select distinct guideid \n\t\t\t\t  from work_log \n\t\t\t\t  where from_unixtime(starttime)>= $__timeFrom()\n\t\t\t\t  and endtime is NULL)\nand from_unixtime(starttime)>= $__timeFrom()\nand endtime is NULL\n\t ) y\nusing (entryid)\n\nwhere from_unixtime(wl.starttime) >= $__timeFrom()\nand wl.endtime is null\nand wl.cancelled != 1\nand (x.time_required_max is null or x.time_required_max = 0)\nand (x.time_required_min is  null or x.time_required_min = 0)",
               "refId": "A",
               "select": [
                  [
                     {
                        "params": [
                           "value"
                        ],
                        "type": "column"
                     }
                  ]
               ],
               "timeColumn": "time",
               "where": [
                  {
                     "name": "$__timeFilter",
                     "params": [],
                     "type": "macro"
                  }
               ]
            }
         ],
         "thresholds": "",
         "title": "In Progress",
         "transparent": true,
         "type": "singlestat",
         "valueFontSize": "80%",
         "valueMaps": [
            {
               "op": "=",
               "text": "N/A",
               "value": "null"
            }
         ],
         "valueName": "avg"
      },
      {
         "cacheTimeout": null,
         "colorBackground": false,
         "colorValue": false,
         "colors": [
            "#299c46",
            "rgba(237, 129, 40, 0.89)",
            "#d44a3a"
         ],
         "datasource": "$GUIDE_DB",
         "format": "none",
         "gauge": {
            "maxValue": 100,
            "minValue": 0,
            "show": false,
            "thresholdLabels": false,
            "thresholdMarkers": true
         },
         "gridPos": {
            "h": 3,
            "w": 3,
            "x": 19,
            "y": 14
         },
         "id": 37,
         "interval": null,
         "links": [],
         "mappingType": 1,
         "mappingTypes": [
            {
               "name": "value to text",
               "value": 1
            },
            {
               "name": "range to text",
               "value": 2
            }
         ],
         "maxDataPoints": 100,
         "nullPointMode": "connected",
         "nullText": null,
         "postfix": "",
         "postfixFontSize": "50%",
         "prefix": "",
         "prefixFontSize": "50%",
         "rangeMaps": [
            {
               "from": "null",
               "text": "N/A",
               "to": "null"
            }
         ],
         "sparkline": {
            "fillColor": "rgba(31, 118, 189, 0.18)",
            "full": false,
            "lineColor": "rgb(31, 120, 193)",
            "show": false
         },
         "tableColumn": "metric",
         "targets": [
            {
               "alias": "",
               "format": "table",
               "group": [],
               "metricColumn": "none",
               "rawQuery": true,
               "rawSql": "select  wl.entryid, wl.guideid, count(distinct wl.entryid) as metric\r\nfrom work_log wl\r\n \r\nleft join (select gc.guideid, gm.time_required_max, gm.time_required_min\r\nFROM guide_current gc\r\nJOIN guide_revisions gr USING (guide_revisionid)\r\nJOIN guide_meta gm ON (gr.gtr_revisionid = gm.revisionid)\r\n) x\r\non x.guideid=wl.guideid\r\n \r\n\r\nwhere date(from_unixtime(wl.starttime)) >= $__timeFrom()\r\nand date(from_unixtime(wl.endtime)) <= $__timeTo()\r\nand wl.cancelled = 1\r\nand (x.time_required_max is null or x.time_required_max = 0)\r\nand (x.time_required_min is null or x.time_required_min = 0)",
               "refId": "A",
               "select": [
                  [
                     {
                        "params": [
                           "value"
                        ],
                        "type": "column"
                     }
                  ]
               ],
               "timeColumn": "time",
               "where": [
                  {
                     "name": "$__timeFilter",
                     "params": [],
                     "type": "macro"
                  }
               ]
            }
         ],
         "thresholds": "",
         "title": "Cancelled",
         "transparent": true,
         "type": "singlestat",
         "valueFontSize": "80%",
         "valueMaps": [
            {
               "op": "=",
               "text": "N/A",
               "value": "null"
            }
         ],
         "valueName": "avg"
      },
      {
         "collapsed": false,
         "gridPos": {
            "h": 1,
            "w": 24,
            "x": 0,
            "y": 17
         },
         "id": 29,
         "panels": [],
         "title": "",
         "type": "row"
      },
      {
         "content": "<h3>Goal Hits / Misses Trend",
         "gridPos": {
            "h": 2,
            "w": 24,
            "x": 0,
            "y": 18
         },
         "id": 46,
         "links": [],
         "mode": "html",
         "title": "",
         "transparent": true,
         "type": "text"
      },
      {
         "aliasColors": {
            "Hit Goal": "#508642",
            "Missed Goal": "#bf1b00"
         },
         "bars": true,
         "dashLength": 10,
         "dashes": false,
         "datasource": "$GUIDE_DB",
         "description": "",
         "fill": 1,
         "gridPos": {
            "h": 9,
            "w": 24,
            "x": 0,
            "y": 20
         },
         "id": 22,
         "legend": {
            "avg": false,
            "current": false,
            "hideEmpty": true,
            "hideZero": true,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
         },
         "lines": false,
         "linewidth": 1,
         "links": [],
         "nullPointMode": "null",
         "percentage": false,
         "pointradius": 5,
         "points": false,
         "renderer": "flot",
         "seriesOverrides": [],
         "spaceLength": 10,
         "stack": false,
         "steppedLine": false,
         "targets": [
            {
               "alias": "",
               "format": "time_series",
               "group": [],
               "hide": false,
               "metricColumn": "none",
               "rawQuery": true,
               "rawSql": "select y.endingtime as time_sec, count(distinct wl.entryid) as \"Missed Goal\"\r\n-- ,\r\n-- date_format(date(from_unixtime(y.endingtime)), '%c-%d') as finish_date, \r\n-- wl.entryid, wl.guideid, from_unixtime(wl.starttime), \r\n-- (wl.endtime - wl.starttime)/60.00 as duration, \r\n-- (x.time_required_max -(y.endingtime - wl.starttime))/60.00 as past_due\r\nfrom work_log wl\r\n \r\njoin (select gc.guideid, gm.time_required_max, gm.time_required_min\r\nFROM guide_current gc\r\nJOIN guide_revisions gr USING (guide_revisionid)\r\nJOIN guide_meta gm ON (gr.gtr_revisionid = gm.revisionid)\r\nwhere gc.guideid in (select distinct guideid from work_log \r\n\t\t\t\t\t where date(from_unixtime(starttime)) >= $__timeFrom()\r\n\t\t\t\t\t AND \r\n\t\t\t\t\t CASE \r\n    \t\t\t\t\tWHEN endtime is NOT NULL \r\n\t\t\t\t\t \tTHEN date(from_unixtime(endtime)) <= $__timeTo()\r\n    \t\t\t\t\tELSE 1 != 1\r\n\t\t\t\t\t END)) x\r\nusing (guideid)\r\n \r\nJOIN (select entryid,\r\nCASE \r\n    WHEN endtime is NOT NULL \r\n\tthen endtime\r\n    ELSE 1 != 1\r\nEND as endingtime\r\nfrom work_log\r\nwhere guideid in (select distinct guideid \r\n\t\t\t\t  from work_log \r\n\t\t\t\t  where date(from_unixtime(starttime)) >= $__timeFrom()\r\n\t\t\t\t  and date(from_unixtime(endtime)) <= $__timeTo())\r\nand date(from_unixtime(starttime)) >= $__timeFrom()\r\nand date(from_unixtime(endtime)) <= $__timeTo()\r\n\t ) y\r\nusing (entryid)\r\n\r\nwhere date(from_unixtime(wl.starttime)) >= $__timeFrom()\r\nand date(from_unixtime(wl.endtime)) <= $__timeTo()\r\nand wl.cancelled != 1\r\nand (x.time_required_max is not null or x.time_required_max != 0)\r\nand (x.time_required_min is not null or x.time_required_min != 0)\r\nand (x.time_required_max -(y.endingtime - wl.starttime))/60.00 < 0\r\ngroup by date_format(FROM_UNIXTIME(y.endingtime),\"%y-%m-%d\")\r\norder by date_format(FROM_UNIXTIME(y.endingtime),\"%y-%m-%d\")",
               "refId": "A",
               "select": [
                  [
                     {
                        "params": [
                           "value"
                        ],
                        "type": "column"
                     }
                  ]
               ],
               "timeColumn": "time",
               "where": [
                  {
                     "name": "$__timeFilter",
                     "params": [],
                     "type": "macro"
                  }
               ]
            },
            {
               "alias": "",
               "format": "time_series",
               "group": [],
               "metricColumn": "none",
               "rawQuery": true,
               "rawSql": "select y.endingtime as time_sec, count(distinct wl.entryid) as \"Hit Goal\"\r\n-- ,\r\n-- date_format(date(from_unixtime(y.endingtime)), '%c-%d') as finish_date, \r\n-- wl.entryid, wl.guideid, from_unixtime(wl.starttime), \r\n-- (wl.endtime - wl.starttime)/60.00 as duration, \r\n-- (x.time_required_max -(y.endingtime - wl.starttime))/60.00 as past_due\r\nfrom work_log wl\r\n \r\njoin (select gc.guideid, gm.time_required_max, gm.time_required_min\r\nFROM guide_current gc\r\nJOIN guide_revisions gr USING (guide_revisionid)\r\nJOIN guide_meta gm ON (gr.gtr_revisionid = gm.revisionid)\r\nwhere gc.guideid in (select distinct guideid from work_log \r\n\t\t\t\t\t where date(from_unixtime(starttime)) >= $__timeFrom()\r\n\t\t\t\t\t AND \r\n\t\t\t\t\t CASE \r\n    \t\t\t\t\tWHEN endtime is NOT NULL \r\n\t\t\t\t\t \tTHEN date(from_unixtime(endtime)) <= $__timeTo()\r\n    \t\t\t\t\tELSE 1 != 1\r\n\t\t\t\t\t END)) x\r\nusing (guideid)\r\n \r\nJOIN (select entryid,\r\nCASE \r\n    WHEN endtime is NOT NULL \r\n\tthen endtime\r\n    ELSE 1 != 1\r\nEND as endingtime\r\nfrom work_log\r\nwhere guideid in (select distinct guideid \r\n\t\t\t\t  from work_log \r\n\t\t\t\t  where date(from_unixtime(starttime)) >= $__timeFrom()\r\n\t\t\t\t  and date(from_unixtime(endtime)) <= $__timeTo())\r\nand date(from_unixtime(starttime)) >= $__timeFrom()\r\nand date(from_unixtime(endtime)) <= $__timeTo()\r\n\t ) y\r\nusing (entryid)\r\n\r\nwhere date(from_unixtime(wl.starttime)) >= $__timeFrom()\r\nand date(from_unixtime(wl.endtime)) <= $__timeTo()\r\nand wl.cancelled != 1\r\nand (x.time_required_max is not null or x.time_required_max != 0)\r\nand (x.time_required_min is not null or x.time_required_min != 0)\r\nand (x.time_required_max -(y.endingtime - wl.starttime))/60.00 > 0\r\ngroup by date_format(FROM_UNIXTIME(y.endingtime),\"%y-%m-%d\")\r\norder by date_format(FROM_UNIXTIME(y.endingtime),\"%y-%m-%d\")",
               "refId": "B",
               "select": [
                  [
                     {
                        "params": [
                           "value"
                        ],
                        "type": "column"
                     }
                  ]
               ],
               "timeColumn": "time",
               "where": [
                  {
                     "name": "$__timeFilter",
                     "params": [],
                     "type": "macro"
                  }
               ]
            }
         ],
         "thresholds": [],
         "timeFrom": null,
         "timeRegions": [],
         "timeShift": null,
         "title": "",
         "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
         },
         "transparent": true,
         "type": "graph",
         "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
         },
         "yaxes": [
            {
               "format": "none",
               "label": null,
               "logBase": 1,
               "max": null,
               "min": null,
               "show": true
            },
            {
               "format": "short",
               "label": null,
               "logBase": 1,
               "max": null,
               "min": null,
               "show": false
            }
         ],
         "yaxis": {
            "align": false,
            "alignLevel": null
         }
      },
      {
         "content": "<h3>Goal Hits / Misses Trend %",
         "gridPos": {
            "h": 2,
            "w": 24,
            "x": 0,
            "y": 29
         },
         "id": 47,
         "links": [],
         "mode": "html",
         "title": "",
         "transparent": true,
         "type": "text"
      },
      {
         "columns": [],
         "datasource": "$GUIDE_DB",
         "fontSize": "100%",
         "gridPos": {
            "h": 9,
            "w": 24,
            "x": 0,
            "y": 31
         },
         "id": 41,
         "links": [],
         "pageSize": null,
         "scroll": true,
         "showHeader": true,
         "sort": {
            "col": 2,
            "desc": false
         },
         "styles": [
            {
               "alias": "Time",
               "dateFormat": "YYYY-MM-DD HH:mm:ss",
               "pattern": "Time",
               "type": "date"
            },
            {
               "alias": "",
               "colorMode": "cell",
               "colors": [
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
               ],
               "dateFormat": "YYYY-MM-DD HH:mm:ss",
               "decimals": 2,
               "mappingType": 1,
               "pattern": "Percentage",
               "thresholds": [
                  ".75",
                  ".85"
               ],
               "type": "number",
               "unit": "percentunit"
            },
            {
               "alias": "",
               "colorMode": null,
               "colors": [
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
               ],
               "dateFormat": "YYYY-MM-DD HH:mm:ss",
               "decimals": null,
               "mappingType": 1,
               "pattern": "guideid",
               "thresholds": [],
               "type": "hidden",
               "unit": "short"
            },
            {
               "alias": "",
               "colorMode": null,
               "colors": [
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
               ],
               "dateFormat": "YYYY-MM-DD HH:mm:ss",
               "decimals": null,
               "mappingType": 1,
               "pattern": "Misses",
               "thresholds": [],
               "type": "number",
               "unit": "short"
            },
            {
               "alias": "",
               "colorMode": null,
               "colors": [
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
               ],
               "dateFormat": "YYYY-MM-DD HH:mm:ss",
               "decimals": null,
               "mappingType": 1,
               "pattern": "Hits",
               "thresholds": [],
               "type": "number",
               "unit": "short"
            },
            {
               "alias": "",
               "colorMode": null,
               "colors": [
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
               ],
               "dateFormat": "YYYY-MM-DD HH:mm:ss",
               "decimals": null,
               "mappingType": 1,
               "pattern": "Total",
               "thresholds": [],
               "type": "number",
               "unit": "short"
            },
            {
               "alias": "",
               "colorMode": null,
               "colors": [
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
               ],
               "decimals": 2,
               "pattern": "/.*/",
               "thresholds": [],
               "type": "number",
               "unit": "short"
            }
         ],
         "targets": [
            {
               "alias": "",
               "format": "table",
               "group": [],
               "metricColumn": "none",
               "rawQuery": true,
               "rawSql": "select wl.guideid, gt.title as \"Process\",  gm.device as \"Category\", \r\n-- wl.entryid,  \r\n-- from_unixtime(wl.starttime), \r\n-- from_unixtime(endtime), \r\n-- (wl.endtime - wl.starttime)/60.00 as duration, \r\n\r\n\r\n count(x.guideid) as \"Misses\",\r\n count(y.guideid) as \"Hits\",\r\n count(z.guideid) as \"Total\",\r\n count(y.guideid)/count(z.guideid) as \"Percentage\"\r\nfrom work_log wl\r\n \r\n\r\nleft join guide_current gc on (gc.guideid =wl.guideid)\r\nleft JOIN guide_revisions gr on (gr.guide_revisionid=gc.guide_revisionid)\r\nleft JOIN guide_meta gm ON (gr.gtr_revisionid = gm.revisionid)\r\nleft JOIN guide_text gt ON (gr.gt_revisionid = gt.gt_revisionid)\r\n\r\nleft JOIN\r\n\r\n(select gc.guideid, gm.time_required_max, gm.time_required_min, gt.title, gm.device\r\nFROM guide_current gc\r\nJOIN guide_revisions gr USING (guide_revisionid)\r\nJOIN guide_meta gm ON (gr.gtr_revisionid = gm.revisionid)\r\nJOIN guide_text gt ON (gr.gt_revisionid = gt.gt_revisionid)\r\nwhere gc.guideid in (select distinct guideid from work_log \r\n\t\t\t\t\t where date(from_unixtime(starttime)) >= $__timeFrom()\r\n\t\t\t\t\t AND \r\n\t\t\t\t\t CASE \r\n    \t\t\t\t\tWHEN endtime is NOT NULL \r\n\t\t\t\t\t \tTHEN date(from_unixtime(endtime)) <= $__timeTo()\r\n    \t\t\t\t\tELSE 1 != 1\r\n\t\t\t\t\t END)) x\r\non x.guideid=wl.guideid and (x.time_required_max -(CASE \r\n    WHEN wl.endtime is NOT NULL \r\n\tthen wl.endtime\r\n    ELSE 1 != 1\r\nEND\r\n - wl.starttime))/60.00 <0\r\n\r\n\r\nleft JOIN\r\n\r\n(select gc.guideid, gm.time_required_max, gm.time_required_min, gt.title, gm.device\r\nFROM guide_current gc\r\nJOIN guide_revisions gr USING (guide_revisionid)\r\nJOIN guide_meta gm ON (gr.gtr_revisionid = gm.revisionid)\r\nJOIN guide_text gt ON (gr.gt_revisionid = gt.gt_revisionid)\r\nwhere gc.guideid in (select distinct guideid from work_log \r\n\t\t\t\t\t where date(from_unixtime(starttime)) >= $__timeFrom()\r\n\t\t\t\t\t AND \r\n\t\t\t\t\t CASE \r\n    \t\t\t\t\tWHEN endtime is NOT NULL \r\n\t\t\t\t\t \tTHEN date(from_unixtime(endtime)) <= $__timeTo()\r\n    \t\t\t\t\tELSE 1 != 1\r\n\t\t\t\t\t END)) y\r\non y.guideid=wl.guideid and (y.time_required_max -(CASE \r\n    WHEN wl.endtime is NOT NULL \r\n\tthen wl.endtime\r\n    ELSE 1 != 1\r\nEND\r\n - wl.starttime))/60.00 >0\r\n\r\n\r\nleft JOIN\r\n\r\n(select gc.guideid, gm.time_required_max, gm.time_required_min, gt.title, gm.device\r\nFROM guide_current gc\r\nJOIN guide_revisions gr USING (guide_revisionid)\r\nJOIN guide_meta gm ON (gr.gtr_revisionid = gm.revisionid)\r\nJOIN guide_text gt ON (gr.gt_revisionid = gt.gt_revisionid)\r\nwhere gc.guideid in (select distinct guideid from work_log \r\n\t\t\t\t\t where date(from_unixtime(starttime)) >= $__timeFrom()\r\n\t\t\t\t\t AND \r\n\t\t\t\t\t CASE \r\n    \t\t\t\t\tWHEN endtime is NOT NULL \r\n\t\t\t\t\t \tTHEN date(from_unixtime(endtime)) <= $__timeTo()\r\n    \t\t\t\t\tELSE 1 != 1\r\n\t\t\t\t\t END)) z\r\non z.guideid=wl.guideid \r\n\r\n\r\n\r\nwhere date(from_unixtime(wl.starttime)) >= $__timeFrom()\r\nand date(from_unixtime(wl.endtime)) <= $__timeTo()\r\nand (gm.time_required_max is not null)\r\nand (gm.time_required_max != 0)\r\nand (gm.time_required_min is not null)\r\nand (gm.time_required_min != 0)\r\nand wl.cancelled != 1\r\n\r\n\r\n-- and \"Past Due\" < 0\r\n\r\n\r\n \r\ngroup by wl.guideid\r\n\r\n",
               "refId": "A",
               "select": [
                  [
                     {
                        "params": [
                           "value"
                        ],
                        "type": "column"
                     }
                  ]
               ],
               "timeColumn": "time",
               "where": [
                  {
                     "name": "$__timeFilter",
                     "params": [],
                     "type": "macro"
                  }
               ]
            }
         ],
         "title": "",
         "transform": "table",
         "transparent": true,
         "type": "table"
      },
      {
         "content": "<h3>Average Cycle Times (Minutes)",
         "gridPos": {
            "h": 2,
            "w": 24,
            "x": 0,
            "y": 40
         },
         "id": 48,
         "links": [],
         "mode": "html",
         "title": "",
         "transparent": true,
         "type": "text"
      },
      {
         "columns": [],
         "datasource": "$GUIDE_DB",
         "fontSize": "100%",
         "gridPos": {
            "h": 9,
            "w": 24,
            "x": 0,
            "y": 42
         },
         "id": 42,
         "links": [],
         "pageSize": null,
         "scroll": true,
         "showHeader": true,
         "sort": {
            "col": 0,
            "desc": true
         },
         "styles": [
            {
               "alias": "Time",
               "dateFormat": "YYYY-MM-DD HH:mm:ss",
               "pattern": "Time",
               "type": "date"
            },
            {
               "alias": "Average Cycle Time (min)",
               "colorMode": "cell",
               "colors": [
                  "rgba(50, 172, 45, 0.97)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(245, 54, 54, 0.9)"
               ],
               "dateFormat": "YYYY-MM-DD HH:mm:ss",
               "decimals": null,
               "mappingType": 1,
               "pattern": "duration",
               "thresholds": [
                  "5",
                  "25"
               ],
               "type": "number",
               "unit": "m"
            },
            {
               "alias": "",
               "colorMode": null,
               "colors": [
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
               ],
               "dateFormat": "YYYY-MM-DD HH:mm:ss",
               "decimals": 2,
               "mappingType": 1,
               "pattern": "efficiency",
               "thresholds": [],
               "type": "hidden",
               "unit": "short"
            },
            {
               "alias": "",
               "colorMode": null,
               "colors": [
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
               ],
               "dateFormat": "YYYY-MM-DD HH:mm:ss",
               "decimals": 2,
               "mappingType": 1,
               "pattern": "entryid",
               "thresholds": [],
               "type": "hidden",
               "unit": "short"
            },
            {
               "alias": "",
               "colorMode": null,
               "colors": [
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
               ],
               "dateFormat": "YYYY-MM-DD HH:mm:ss",
               "decimals": 2,
               "mappingType": 1,
               "pattern": "starttime",
               "thresholds": [],
               "type": "hidden",
               "unit": "short"
            },
            {
               "alias": "",
               "colorMode": null,
               "colors": [
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
               ],
               "dateFormat": "YYYY-MM-DD HH:mm:ss",
               "decimals": 2,
               "mappingType": 1,
               "pattern": "endtime",
               "thresholds": [],
               "type": "hidden",
               "unit": "short"
            },
            {
               "alias": "",
               "colorMode": null,
               "colors": [
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
               ],
               "dateFormat": "YYYY-MM-DD HH:mm:ss",
               "decimals": 2,
               "mappingType": 1,
               "pattern": "time_to_goal",
               "thresholds": [],
               "type": "hidden",
               "unit": "short"
            },
            {
               "alias": "",
               "colorMode": null,
               "colors": [
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
               ],
               "dateFormat": "YYYY-MM-DD HH:mm:ss",
               "decimals": 2,
               "mappingType": 1,
               "pattern": "goal_time",
               "thresholds": [],
               "type": "hidden",
               "unit": "short"
            },
            {
               "alias": "",
               "colorMode": null,
               "colors": [
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
               ],
               "dateFormat": "YYYY-MM-DD HH:mm:ss",
               "decimals": 2,
               "mappingType": 1,
               "pattern": "guideid",
               "thresholds": [],
               "type": "hidden",
               "unit": "short"
            }
         ],
         "targets": [
            {
               "alias": "",
               "format": "table",
               "group": [],
               "metricColumn": "none",
               "rawQuery": true,
               "rawSql": "select x.title as \"Process\",  x.device as \"Category\", wl.entryid, wl.guideid, \r\nfrom_unixtime(wl.starttime) as starttime, from_unixtime(wl.endtime) as endtime, \r\navg((wl.endtime - wl.starttime)/60.00) as duration, (x.time_required_max/60.00)-((wl.endtime - wl.starttime)/60.00) as time_to_goal, \r\nx.time_required_max/60.00 as goal_time, (((x.time_required_max)/ABS(wl.endtime - wl.starttime))*100.00) as efficiency\r\nfrom work_log wl\r\n \r\njoin (select gc.guideid, gm.time_required_max, gm.device, gt.title\r\nFROM guide_current gc\r\nJOIN guide_revisions gr USING (guide_revisionid)\r\nJOIN guide_meta gm ON (gr.gtr_revisionid = gm.revisionid)\r\nJOIN guide_text gt ON (gr.gt_revisionid = gt.gt_revisionid)\r\nwhere gc.guideid in (\r\nselect distinct guideid \r\nfrom work_log \r\nwhere date(from_unixtime(starttime)) >= $__timeFrom()\r\nand date(from_unixtime(endtime)) <= $__timeTo())\r\n) x\r\nusing (guideid)\r\n \r\nwhere date(from_unixtime(wl.starttime)) >= $__timeFrom()\r\nand date(from_unixtime(wl.endtime)) <= $__timeTo()\r\nand wl.cancelled != 1\r\n\r\ngroup by Process, Category\r\n\r\n",
               "refId": "A",
               "select": [
                  [
                     {
                        "params": [
                           "value"
                        ],
                        "type": "column"
                     }
                  ]
               ],
               "timeColumn": "time",
               "where": [
                  {
                     "name": "$__timeFilter",
                     "params": [],
                     "type": "macro"
                  }
               ]
            }
         ],
         "title": "",
         "transform": "table",
         "transparent": true,
         "type": "table"
      },
      {
         "collapsed": true,
         "gridPos": {
            "h": 1,
            "w": 24,
            "x": 0,
            "y": 51
         },
         "id": 24,
         "panels": [
            {
               "content": "<h3>Work Log Details",
               "gridPos": {
                  "h": 2,
                  "w": 24,
                  "x": 0,
                  "y": 7
               },
               "id": 49,
               "links": [],
               "mode": "html",
               "title": "",
               "transparent": true,
               "type": "text"
            },
            {
               "columns": [],
               "datasource": "$GUIDE_DB",
               "fontSize": "100%",
               "gridPos": {
                  "h": 17,
                  "w": 24,
                  "x": 0,
                  "y": 9
               },
               "id": 31,
               "links": [],
               "pageSize": 16,
               "scroll": false,
               "showHeader": true,
               "sort": {
                  "col": 0,
                  "desc": true
               },
               "styles": [
                  {
                     "alias": "Time",
                     "dateFormat": "YYYY-MM-DD HH:mm:ss",
                     "pattern": "Time",
                     "type": "date"
                  },
                  {
                     "alias": "",
                     "colorMode": null,
                     "colors": [
                        "rgba(245, 54, 54, 0.9)",
                        "rgba(237, 129, 40, 0.89)",
                        "rgba(50, 172, 45, 0.97)"
                     ],
                     "dateFormat": "YYYY-MM-DD HH:mm:ss",
                     "decimals": 2,
                     "link": true,
                     "linkTargetBlank": true,
                     "linkTooltip": "",
                     "linkUrl": "${__cell:raw}",
                     "mappingType": 1,
                     "pattern": "Process Link",
                     "preserveFormat": false,
                     "sanitize": false,
                     "thresholds": [],
                     "type": "string",
                     "unit": "short"
                  },
                  {
                     "alias": "",
                     "colorMode": null,
                     "colors": [
                        "rgba(245, 54, 54, 0.9)",
                        "rgba(237, 129, 40, 0.89)",
                        "rgba(50, 172, 45, 0.97)"
                     ],
                     "dateFormat": "YYYY-MM-DD HH:mm:ss",
                     "decimals": 0,
                     "mappingType": 1,
                     "pattern": "Process ID",
                     "thresholds": [],
                     "type": "number",
                     "unit": "short"
                  },
                  {
                     "alias": "",
                     "colorMode": null,
                     "colors": [
                        "rgba(245, 54, 54, 0.9)",
                        "rgba(237, 129, 40, 0.89)",
                        "rgba(50, 172, 45, 0.97)"
                     ],
                     "dateFormat": "MM/DD/YY h:mm:ss a",
                     "decimals": 2,
                     "mappingType": 1,
                     "pattern": "Start Time",
                     "thresholds": [],
                     "type": "date",
                     "unit": "short"
                  },
                  {
                     "alias": "",
                     "colorMode": null,
                     "colors": [
                        "rgba(245, 54, 54, 0.9)",
                        "rgba(237, 129, 40, 0.89)",
                        "rgba(50, 172, 45, 0.97)"
                     ],
                     "dateFormat": "MM/DD/YY h:mm:ss a",
                     "decimals": 2,
                     "mappingType": 1,
                     "pattern": "Finish Time",
                     "thresholds": [],
                     "type": "date",
                     "unit": "short"
                  },
                  {
                     "alias": "",
                     "colorMode": null,
                     "colors": [
                        "rgba(245, 54, 54, 0.9)",
                        "rgba(237, 129, 40, 0.89)",
                        "rgba(50, 172, 45, 0.97)"
                     ],
                     "dateFormat": "YYYY-MM-DD HH:mm:ss",
                     "decimals": 0,
                     "mappingType": 1,
                     "pattern": "Duration",
                     "thresholds": [],
                     "type": "number",
                     "unit": "dthms"
                  },
                  {
                     "alias": "",
                     "colorMode": null,
                     "colors": [
                        "rgba(245, 54, 54, 0.9)",
                        "rgba(237, 129, 40, 0.89)",
                        "rgba(50, 172, 45, 0.97)"
                     ],
                     "decimals": 0,
                     "pattern": "/.*/",
                     "thresholds": [],
                     "type": "number",
                     "unit": "none"
                  }
               ],
               "targets": [
                  {
                     "alias": "",
                     "format": "table",
                     "rawSql": "select \r\nwork_log.workorderid as \"Workorder ID\",\r\n-- guide_meta.device as \"Category\",\r\nguide_text.title as \"Process Name\",\r\nglobal_users.username as \"Worker\",\r\nFROM_UNIXTIME(work_log.starttime) as \"Start Time\",\r\nFROM_UNIXTIME(work_log.endtime) as \"Finish Time\",\r\nCASE \r\n    WHEN work_log.endtime is NULL then \"In Progress\"\r\n    ELSE SEC_TO_TIME(work_log.endtime - work_log.starttime)\r\nEND as Duration,\r\nCASE \r\n    WHEN work_log.cancelled = 1 then \"Cancelled\"\r\n\tWHEN work_log.endtime is NULL then \"In Progress\"\r\n    ELSE \"Completed\"\r\nEND as Status,\r\nwork_log.guideid as \"Process ID\", \r\nCONCAT('https://','$SITE_NAME','.dozuki.com/Guide/Process/',work_log.guideid) as \"Process Link\"\r\n\r\nFrom work_log\r\n\r\nINNER JOIN global_users on work_log.userid=global_users.userid  \r\n-- INNER JOIN guide_current ON work_log.guideid = guide_current.guideid\r\n\r\n-- JOIN guide_revisions ON guide_revisions.guide_revisionid = guide_current.guide_revisionid\r\n\r\n\r\nINNER JOIN (\r\n    SELECT gtr_revisionid, guideid, MAX(guide_revisionid) AS maxrevision FROM guide_revisions GROUP BY guideid\r\n  ) maxrev ON maxrev.guideid = work_log.guideid \r\n\r\nJOIN guide_revisions ON guide_revisions.guide_revisionid = maxrev.maxrevision\r\n\r\n\r\nJOIN guide_meta ON guide_revisions.gtr_revisionid = guide_meta.revisionid\r\nJOIN guide_text ON guide_text.gt_revisionid = guide_revisions.gt_revisionid\r\n\r\n\r\nwhere date(FROM_UNIXTIME(work_log.starttime)) >= $__timeFrom()\r\nand date(FROM_UNIXTIME(work_log.endtime)) <= $__timeTo()\r\n-- and work_log.cancelled <> 1\r\n\r\norder by work_log.starttime desc\r\n",
                     "refId": "A"
                  }
               ],
               "title": "",
               "transform": "table",
               "transparent": true,
               "type": "table"
            }
         ],
         "title": "",
         "type": "row"
      }
   ],
   "refresh": false,
   "schemaVersion": 16,
   "style": "dark",
   "tags": [
      "Work Orders",
      "Factory View"
   ],
   "templating": {
      "list": [
         {
            "current": {
               "text": "Dozuki",
               "value": "Dozuki"
            },
            "hide": 2,
            "label": "Guide Database",
            "name": "GUIDE_DB",
            "options": [],
            "query": "mysql",
            "refresh": 1,
            "regex": "",
            "skipUrlSync": false,
            "type": "datasource"
         },
         {
            "current": {
               "text": "onprem",
               "value": "onprem"
            },
            "hide": 2,
            "label": "Site Name",
            "name": "SITE_NAME",
            "options": [
               {
                  "selected": true,
                  "text": "onprem",
                  "value": "onprem"
               }
            ],
            "query": "onprem",
            "skipUrlSync": false,
            "type": "constant"
         }
      ]
   },
   "time": {
      "from": "now-5y",
      "to": "now"
   },
   "timepicker": {
      "refresh_intervals": [
         "5s",
         "10s",
         "30s",
         "1m",
         "5m",
         "15m",
         "30m",
         "1h",
         "2h",
         "1d"
      ],
      "time_options": [
         "5m",
         "15m",
         "1h",
         "6h",
         "12h",
         "24h",
         "2d",
         "7d",
         "30d"
      ]
   },
   "timezone": "utc",
   "title": "Factory View",
   "uid": null,
   "version": 27
}
